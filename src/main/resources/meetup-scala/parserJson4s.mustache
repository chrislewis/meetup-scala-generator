package {{invokerPackage}}

import org.json4s._
import org.json4s.native.JsonMethods
import org.json4s.native.JsonMethods.{compact, render}

object Parser {
  def parse(s: String): Either[String, JValue] =
    try {
      Right(org.json4s.native.JsonMethods.parse(s))
    } catch {
      case scala.util.control.NonFatal(e) =>
        e.printStackTrace
        Left(e.getMessage)
    }

  def deparse[A](j: JValue): String =
    j match {
      case JNothing => ""
      case _ => compact(render(j))
    }
}